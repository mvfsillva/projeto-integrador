<ui:composition 
    template="../templates/main.xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    <ui:define name="title">
        <h:outputText value="Eventos" />
    </ui:define>
    <ui:define name="container">
        <section id="need">            
            <div class="container">
                <button class="btn btn-success-sui" data-toggle="modal" data-target="#myModal" style="display:#{loginController.displayTextForLogoutLabel}" >Criar um Evento</button>
                <hr />
                <h3>Eventos Beneficentes</h3>       
                <div class="row">
                    <h:form id="ongList">
                        <ui:repeat var="event" value="#{eventsController.events}">
                            <div class="col-sm-4 need-item">
                                <div class="card radius shadowDepth1">                            
                                    <div class="card__image border-tlr-radius">                                        
                                        <h3 class="card__title text-center"><h:outputText value="#{event.name}" /></h3>
                                        <small class="card__availability pull-left">Dia: </small>
                                        <small class="card__availability pull-left">
                                            <h:outputText value="#{event.date}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </small>
                                    </div>
                                    <div class="card__content card__padding">
                                        <div class="card__share">

                                            <!-- twitter -->
                                            <a class="share-icon twitter" 
                                               aria-label="Comparilhe no Twitter" 
                                               href="https://twitter.com/intent/tweet?text=&quot;#{event.description} dia #{event.date}&quot;%20http://doando.org/event%20via%20&#64;#{event.ongName} teste"
                                               onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" 
                                               title="Compartilhe no Twitter">
                                                <span class="fa fa-twitter"></span>
                                            </a>

                                        </div>
                                        <article class="card__article">
                                            <h4>Descrição: </h4>
                                            <p>
                                                <h:outputText value=" #{event.description}" />
                                            </p>
                                            <p>
                                                Local: <h:outputText value=" #{event.locality}" />
                                            </p>
                                            Ong Responsável: <h:outputText value=" #{event.ongName}"/>
                                            <br/>
                                            E-mail: <h:outputText value=" #{event.emailOng}"/>
                                        </article>
                                    </div>
                                    <div class="card__action">
                                        <button class="btn btn-info btn-sm">Entrar em Contato</button>
                                        <hr/>
                                        <div class="col-md-12 pull-left row">                                                                                        
                                            <div class="col-md-4 pull-left">
                                                <p:commandButton value="Editar" style="display:#{loginController.displayTextForLogoutLabel}" styleClass="btn btn-edit-sui btn-sm" action="#{eventsController.teste(event)}" />
                                            </div>
                                            <div class="col-md-4 pull-left">
                                                <p:commandButton value="Deletar" style="display:#{loginController.displayTextForLogoutLabel}" styleClass="btn btn-delete-sui btn-sm" action="#{eventsController.delete(event)}" />
                                            </div>
                                        </div>
                                    </div>
                                </div>                            
                            </div>
                        </ui:repeat>
                    </h:form>
                </div>
            </div>     
        </section>

        <div class="modal fade" id="myModal" role="dialog">
            <ui:include src="modal.event.xhtml"/> 
        </div>        
    </ui:define>
</ui:composition>