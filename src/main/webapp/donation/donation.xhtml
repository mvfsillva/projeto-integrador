<ui:composition 
    template="../templates/main.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    <ui:define name="container">

        <section id="need">
            <div class="container">
                <button class="btn btn-success-sui" data-toggle="modal" data-target="#myModal" style="display:#{loginController.displayTextForLogoutLabel}">Cadastrar Necessidade</button>
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <h3>Um minuto para doar, uma vida de mudanças!</h3>
                        <hr class="star-primary" />
                    </div>
                </div>
                <div class="row">
                    <h:form id="ongList">
                        <ui:repeat var="necessity" value="#{necessityController.necessities}">
                            <div class="col-sm-4 need-item">
                                <div class="card radius shadowDepth1">                            
                                    <div class="card__image border-tlr-radius">                                        
                                        <h3 class="card__title text-center"><h:outputText value="#{necessity.title}" /></h3>
                                        <small class="card__availability pull-left">Dia: </small>
                                        <small class="card__availability pull-left">
                                            <h:outputText value="#{necessity.date}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </small>
                                    </div>
                                    <div class="card__content card__padding">
                                        <div class="card__share">

                                            <a class="share-icon twitter" 
                                               aria-label="Comparilhe no Twitter" 
                                               href="https://twitter.com/intent/tweet?text=&quot;#{necessity.description}&quot;%20http://doando.org/donation%20via%20&#64;doandoorg"
                                               onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" 
                                               title="Compartilhe no Twitter">
                                                <span class="fa fa-twitter"></span>
                                            </a>

                                        </div>
                                        <article class="card__article">
                                            <h4>Descrição: </h4>
                                            <p>
                                                <h:outputText value=" #{necessity.description}" />
                                            </p>
                                            <p>
                                                Prioridade: <h:outputText value=" #{necessity.priority}" />
                                            </p>
                                        </article>
                                    </div>
                                    <div class="card__action">
                                        <hr/>
                                        <div class="col-md-12 pull-left">                                            
                                            <div class="col-md-4 pull-left">
                                                <p:commandButton value="Editar" style="display:#{loginController.displayTextForLogoutLabel}" styleClass="btn btn-edit-sui btn-sm" action="#{necessityController.teste(necessity)}" />
                                            </div>
                                            <div class="col-md-6 pull-left">
                                                <p:commandButton value="Deletar" style="display:#{loginController.displayTextForLogoutLabel}" styleClass="btn btn-delete-sui btn-sm" action="#{necessityController.delete(necessity)}" />
                                            </div>
                                        </div>
                                    </div>
                                </div>                            
                            </div>
                        </ui:repeat>
                    </h:form>
                </div>
            </div>
        </section>

        <div class="modal fade" id="myModal" role="dialog">
            <ui:include src="modal.donation.xhtml"/> 
        </div> 
    </ui:define>
</ui:composition>


